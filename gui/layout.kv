WindowManager:
    MainWindow:
    DatabaseList:
    PassiveDataInspector:
    ActiveDataInspector:

<MainWindow>:
    name: "main_window"

    GridLayout:
        cols: 1

        Label:
            text: "NOŁ-AŁ - RTV & domestic electronics knowledge storage"

        GridLayout:
            rows: 2

            Button:
                text: "Database list"
                on_release:
                    app.root.current = "database_list"
                    root.manager.transition.direction = "left"

            Button:
                text: "Active data inspector TEST"
                on_release:
                    app.root.current = "active_data_inspector"
                    root.manager.transition.direction = "up"

<ActiveDataInspector>:
    name: "active_data_inspector"

    text_input: text_input
    text_preview: text_preview

    GridLayout:
        cols: 2

        GridLayout:
            rows: 2

            Label:
                size_hint_y: None
                height: dp(48)
                text: "[b]Edit article[/b]"
                markup: True
            TextInput:
                id: text_input
                multiline: True

        GridLayout:
            rows: 2

            Label:
                size_hint_y: None
                height: dp(48)
                text: "[b]Preview[/b]"
                markup: True
            Label:
                id: text_preview
                text: "[b]TEST[/b]"
                text_size: root.width/2, root.height-3*dp(48)
                size: self.texture_size
                valign: 'top'
                halign: 'left'
                markup: True
                on_ref_press:
                    import webbrowser
                    webbrowser.open(args[1])


        Button:
            size_hint_y: None
            height: dp(48)
            text: "Preview"
            on_press: root.btn_preview()

        Button:
            size_hint_y: None
            height: dp(48)
            text: "Save"
            on_press: root.showedit()

        Button:
            size_hint_y: None
            height: dp(48)
            text: "Return"
            on_press:
                app.root.current = "main_window"
                root.manager.transition.direction = "down"

        Button:
            size_hint_y: None
            height: dp(48)
            text: "Delete"
            on_press: root.showedit()



<DatabaseList>:
    name: "database_list"

    db_preview: db_preview
    id_input: id_input

    GridLayout:
        cols: 1

        Label:
            id: db_preview
            text: "No database!"

        GridLayout:
            cols: 2

            Label:
                text: "Type ID to proceed: "
            TextInput:
                id: id_input
                text: "1"
                multiline: False

            Button:
                text: "Back to main screen"
                on_release:
                    app.root.current = "main_window"
                    root.manager.transition.direction = "right"

            GridLayout:
                rows: 2

                Button:
                    text: "Data inspector"
                    on_release:
                        root.btn_inspect()
                        root.manager.transition.direction = "left"
                Button:
                    text: "Create new"
                    on_release:
                        root.btn_create_new()
                        root.manager.transition.direction = "left"

<PassiveDataInspector>:
    name: "passive_data_inspector"

    item_id: item_id
    namee: namee
    producer: producer
    model: model
    serial_number: serial_number
    activation_date: activation_date
    acquire_date: acquire_date
    ports: ports
    other: other

    GridLayout:
        cols: 1

        GridLayout:
            cols: 2

            Label:
                text: "ID"
            Label:
                id: item_id
                multiline: False

            Label:
                text: "Name"
            TextInput:
                id: namee
                multiline: False

            Label:
                text: "Producer"
            TextInput:
                id: producer
                multiline: False

            Label:
                text: "Model"
            TextInput:
                id: model
                multiline: False

            Label:
                text: "Serial number"
            TextInput:
                id: serial_number
                multiline: False

            Label:
                text: "Activation date"
            TextInput:
                id: activation_date
                multiline: False

            Label:
                text: "Acquire date"
            TextInput:
                id: acquire_date
                multiline: False

            Label:
                text: "Ports"
            TextInput:
                id: ports
                multiline: False

            Label:
                text: "Other"
            TextInput:
                id: other
                multiline: False

        GridLayout:
            cols: 2

            Button:
                text: "Back"
                on_release:
                    app.root.current = "database_list"
                    root.manager.transition.direction = "right"

            GridLayout:
                cols: 1

                Button:
                    text: "Save"
                    on_release:
                        root.btn_save()

                Button:
                    text: "Delete"
                    on_release:
                        root.btn_delete()
                        root.manager.transition.direction = "right"